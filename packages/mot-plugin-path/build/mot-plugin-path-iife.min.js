!function(){"use strict";class t extends Array{constructor(t=1,e=0){super(),this.x=t,this.y=e}set x(t){this[0]=t}set y(t){this[1]=t}get x(){return this[0]}get y(){return this[1]}get length(){return Math.hypot(this.x,this.y)}get dir(){return Math.atan2(this.y,this.x)}copy(){return new t(this.x,this.y)}add(t){return this.x+=t.x,this.y+=t.y,this}sub(t){return this.x-=t.x,this.y-=t.y,this}scale(t){return this.x*=t,this.y*=t,this}rotate(t){const e=Math.cos(t),r=Math.sin(t),[i,n]=this;return this.x=i*e+n*-r,this.y=i*r+n*e,this}cross(t){return this.x*t.y-t.x*this.y}dot(t){return this.x*t.x+t.y*this.y}normalize(){return this.scale(1/this.length)}}function e(e,r){return new t(e.x+r.x,e.y+r.y)}function r(e,r){return new t(e.x-r.x,e.y-r.y)}class i{constructor(){}static install(t){this.mot=t,t.register("createPath",(()=>new i))}quadraticBezierCurve(){}bezier2P(t,e,r,i){return t*Math.pow(1-i,2)+2*e*i*(1-i)+r*i*i}getBezierNowPoint2P(t,e,r,i,n){return{x:this.bezier2P(t.x,e.x,r.x,i*n),y:this.bezier2P(t.y,e.y,r.y,i*n)}}create2PBezier(t,e,r,i=100,n=1){const s=n/(i-1),o=[];for(let n=0;n<i;n++){const i=this.getBezierNowPoint2P(t,e,r,n,s);o.push({x:i.x,y:i.y})}return o}bezier3P(t,e,r,i,n){return t*Math.pow(1-n,3)+3*e*n*Math.pow(1-n,2)+3*r*Math.pow(n,2)*(1-n)+i*Math.pow(n,3)}getBezierNowPoint3P(t,e,r,i,n,s){return{x:this.bezier3P(t.x,e.x,r.x,i.x,n*s),y:this.bezier3P(t.y,e.y,r.y,i.y,n*s)}}create3PBezier(t,e,r,i,n=100,s=1){const o=n,h=s/(o-1),c=[];for(let n=0;n<o;n++){const s=this.getBezierNowPoint3P(t,e,r,i,n,h);c.push({x:s.x,y:s.y})}return c}createSmoothLine(e,r){const i=e.length;let n=[];const s=[];if(!(i<3)){for(let o=0;o<i-2;o++){const{control1:h,control2:c}=this.createSmoothLineControlPoint(new t(e[o].x,e[o].y),new t(e[o+1].x,e[o+1].y),new t(e[o+2].x,e[o+2].y),r.ratio||.3);let a,y;s.push(h),s.push(c),a=0===o?this.create2PBezier(e[o],h,e[o+1],r.precision||50):this.create3PBezier(e[o],s[2*o-1],h,e[o+1],r.precision||50),o+2===i-1&&(y=this.create2PBezier(e[o+1],c,e[o+2],r.precision||50)),n=o+2===i-1?[...n,...a,...y]:[...n,...a]}return n}}createSmoothLineControlPoint(t,i,n,s=.3){const o=r(t,i),h=r(t,i),c=o.length/h.length;let a;a=c>1?r(t,e(i,r(n,i).scale(1/c))):r(e(i,r(t,i).scale(c)),n),a=a.scale(s);return{control1:{x:e(i,a).x,y:e(i,a).y},control2:{x:r(i,a).x,y:r(i,a).y}}}}i.pluginName="mot-plugin-path",i.installed=!1,window.motPluginPath&&console.warn("'motPluginPath' had been used,and it will be covered"),window.motPluginPath=i}();
