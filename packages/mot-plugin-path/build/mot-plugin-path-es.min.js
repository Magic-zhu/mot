class t extends Array{constructor(t=1,e=0){super(),this.x=t,this.y=e}set x(t){this[0]=t}set y(t){this[1]=t}get x(){return this[0]}get y(){return this[1]}get length(){return Math.hypot(this.x,this.y)}get dir(){return Math.atan2(this.y,this.x)}copy(){return new t(this.x,this.y)}add(t){return this.x+=t.x,this.y+=t.y,this}sub(t){return this.x-=t.x,this.y-=t.y,this}scale(t){return this.x*=t,this.y*=t,this}rotate(t){const e=Math.cos(t),r=Math.sin(t),[i,s]=this;return this.x=i*e+s*-r,this.y=i*r+s*e,this}cross(t){return this.x*t.y-t.x*this.y}dot(t){return this.x*t.x+t.y*this.y}normalize(){return this.scale(1/this.length)}}function e(e,r){return new t(e.x+r.x,e.y+r.y)}function r(e,r){return new t(e.x-r.x,e.y-r.y)}class i{constructor(t){this.instructArray=[]}static install(t){this.mot=t,t.register("createPath",(t=>new i(t)))}parse(t){const e=t.trim().replace(/\s/g," ").split(" ").filter((t=>""!==t)),r=e.length,i=[];let s={};for(let t=0;t<=r;t+=2)"Z"!==e[t]?s[e[t]]=e[t+1]:(i.push(this.createInstruct(s)),s={});return i}createInstruct(t){const e={duration:t.T||400,timeFunction:t.E||"linear",instruct:"",value:""};for(const r in t)"T"!==r&&"E"!==r&&(e.instruct=r,e.value=t[r]);return e}quadraticBezierCurve(){}bezier2P(t,e,r,i){return t*Math.pow(1-i,2)+2*e*i*(1-i)+r*i*i}getBezierNowPoint2P(t,e,r,i,s){return{x:this.bezier2P(t.x,e.x,r.x,i*s),y:this.bezier2P(t.y,e.y,r.y,i*s)}}create2PBezier(t,e,r,i=100,s=1){const n=s/(i-1),h=[];for(let s=0;s<i;s++){const i=this.getBezierNowPoint2P(t,e,r,s,n);h.push({x:i.x,y:i.y})}return h}bezier3P(t,e,r,i,s){return t*Math.pow(1-s,3)+3*e*s*Math.pow(1-s,2)+3*r*Math.pow(s,2)*(1-s)+i*Math.pow(s,3)}getBezierNowPoint3P(t,e,r,i,s,n){return{x:this.bezier3P(t.x,e.x,r.x,i.x,s*n),y:this.bezier3P(t.y,e.y,r.y,i.y,s*n)}}create3PBezier(t,e,r,i,s=100,n=1){const h=s,o=n/(h-1),a=[];for(let s=0;s<h;s++){const n=this.getBezierNowPoint3P(t,e,r,i,s,o);a.push({x:n.x,y:n.y})}return a}createSmoothLine(t,e){t.length}createSmoothLineControlPoint(t,i,s,n=.3){const h=r(t,i),o=r(t,i),a=h.length/o.length;let u;return u=a>1?r(t,e(i,r(s,i).scale(1/a))):r(e(i,r(t,i).scale(a)),s),u=u.scale(n),{control1:i.add(u),control2:i.sub(u)}}}i.pluginName="mot-plugin-path",i.installed=!1,window.motPluginPath&&console.warn("'motPluginPath' had been used,and it will be covered"),window.motPluginPath=i;export default i;
